# Priority Group (PG/SQ) Counter 模块配置

# 是否启用此模块
enabled=true

# SONiC中的NAME_MAP路径（固定）
name_map_path="COUNTERS_PG_NAME_MAP"

# Prometheus指标前缀
prometheus_prefix="sonic_pg"

# 生成的标签名
label_name="pg"

# 名称过滤（正则表达式）
# 只保留PG 0-7
# 匹配 Ethernet56:3 和 Ethernet10_1:3 等所有格式，只保留PG 0-7
name_filter="^Ethernet[0-9]+(_[0-9]+)?:[0-7]$"

# 从名称中提取子标签
# 从 "Ethernet10:3" 提取 pg_port=Ethernet10, pg_num=3
# 用 $1 取端口，$3 取PG号（$2 是 _1 这部分）
extract_labels="pg_port:(Ethernet[0-9]+(_[0-9]+)?):([0-9]+):$1;pg_num:(Ethernet[0-9]+(_[0-9]+)?):([0-9]+):$3"
