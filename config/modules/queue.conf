# Queue Counter 模块配置

# 是否启用此模块
enabled=true

# SONiC中的NAME_MAP路径（固定）
name_map_path="COUNTERS_QUEUE_NAME_MAP"

# Prometheus指标前缀
prometheus_prefix="sonic_queue"

# 生成的标签名
label_name="queue"

# 名称过滤（正则表达式）
# 只保留UC队列(0-7)，排除MC队列(8-15)和CPU队列
# 匹配 Ethernet56:3 和 Ethernet10_1:3 等所有格式，只保留UC队列(0-7)
name_filter="^Ethernet[0-9]+(_[0-9]+)?:[0-7]$"

# 从名称中提取子标签
# 格式: 标签名:正则表达式:替换模式（用分号分隔多个）
# 从 "Ethernet10:3" 提取 queue_port=Ethernet10, queue_num=3
# 用 $1 取端口，$3 取队列号（$2 是 _1 这部分）
extract_labels="queue_port:(Ethernet[0-9]+(_[0-9]+)?):([0-9]+):$1;queue_num:(Ethernet[0-9]+(_[0-9]+)?):([0-9]+):$3"
